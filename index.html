<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Cal's Modpacks</title>
	<style>
		:root{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;line-height:1.4;color:#111}
		body{max-width:980px;margin:28px auto;padding:0 18px}
		header{display:flex;align-items:baseline;gap:12px}
		h1{margin:0;font-size:28px}
		.muted{color:#555;font-size:14px}
		.controls{margin-top:12px;display:flex;gap:8px;align-items:center}
		input[type=text]{padding:8px;border:1px solid #ddd;border-radius:6px}
		button{padding:8px 12px;border-radius:6px;border:1px solid #1976d2;background:#1e88e5;color:white;cursor:pointer}
		button[disabled]{opacity:.6;cursor:default}
		.notice{margin:14px 0;padding:12px;border-radius:8px;background:#f2f7ff;border:1px solid #dbeeff}
		.grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:18px}
		.pack{border:1px solid #eee;padding:12px;border-radius:8px}
		.pack h2{margin:0 0 6px 0;font-size:18px}
		<!doctype html>
		<html lang="en">
		<head>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width,initial-scale=1" />
			<title>Cal's Modpacks</title>
			<style>
				body{font-family:Arial,Helvetica,sans-serif;max-width:900px;margin:28px auto;padding:0 16px;color:#111}
				h1{font-size:22px;margin:0 0 8px}
				input{padding:6px;margin:8px 6px 8px 0}
				button{padding:6px}
				table{width:100%;border-collapse:collapse;margin-top:8px}
				th,td{border:1px solid #ddd;padding:8px;text-align:left}
				th{background:#f7f7f7}
				.muted{color:#666;font-size:13px}
				.error{color:#a00}
			</style>
		</head>
		<body>
			<h1>Cal's Modpacks</h1>
			<div style="margin-top:10px">
				<input id="search" placeholder="Search release tags" aria-label="search" />
				<button id="refresh">Refresh</button>
			</div>
			<div id="status" class="muted">Loading…</div>
			<table id="table" aria-live="polite">
				<!doctype html>
				<html lang="en">
				<head>
				  <meta charset="utf-8" />
				  <meta name="viewport" content="width=device-width,initial-scale=1" />
				  <title>Cal's Modpacks</title>
				  <style>
				    body{font-family:Arial,Helvetica,sans-serif;max-width:900px;margin:28px auto;padding:0 16px;color:#111}
				    h1{font-size:22px;margin:0 0 8px}
				    input{padding:6px;margin:8px 6px 8px 0}
				    button{padding:6px}
				    table{width:100%;border-collapse:collapse;margin-top:8px}
				    th,td{border:1px solid #ddd;padding:8px;text-align:left}
				    th{background:#f7f7f7}
				    .muted{color:#666;font-size:13px}
				    .error{color:#a00}
				  </style>
				</head>
				<body>
				  <h1>Cal's Modpacks</h1>
				  <div class="muted">Repository: callenflynn/Modpacks</div>
				  <div style="margin-top:10px">
				    <input id="search" placeholder="Search release tags" aria-label="search" />
				    <button id="refresh">Refresh</button>
				  </div>
				  <div id="status" class="muted">Loading…</div>
				  <table id="table" aria-live="polite">
				    <thead>
				      <tr><th>Tag</th><th>Published</th><th>Link</th></tr>
				    </thead>
				    <tbody></tbody>
				  </table>

				  <script>
				    const owner = 'callenflynn';
				    const repo = 'Modpacks';
				    const search = document.getElementById('search');
				    const refresh = document.getElementById('refresh');
				    const status = document.getElementById('status');
				    const tbody = document.querySelector('#table tbody');
				    let releases = [];

				    refresh.addEventListener('click', load);
				    search.addEventListener('input', renderFiltered);

				    async function load(){
				      status.textContent = 'Loading releases…';
				      tbody.innerHTML = '';
				      try{
				        releases = await fetchAllReleases(owner, repo);
				        renderFiltered();
				        status.textContent = 'Found ' + releases.length + ' releases';
				      }catch(err){
				        status.innerHTML = '<span class="error">Error: ' + (err && err.message || err) + '</span>';
				      }
				    }

				    async function fetchAllReleases(owner, repo){
				      const token = window.GH_TOKEN || null;
				      const headers = { 'Accept': 'application/vnd.github.v3+json' };
				      if (token) headers['Authorization'] = 'token ' + token;
				      let page = 1; const per_page = 100; const out = [];
				      while (true) {
				        status.textContent = 'Loading page ' + page + '...';
				        const url = 'https://api.github.com/repos/' + owner + '/' + repo + '/releases?per_page=' + per_page + '&page=' + page;
				        const res = await fetch(url, { headers });
				        if (res.status === 403) {
				          const rl = res.headers.get('X-RateLimit-Remaining');
				          if (rl === '0') throw new Error('GitHub API rate limit exceeded. Add window.GH_TOKEN and refresh.');
				        }
				        if (!res.ok) throw new Error('GitHub API returned ' + res.status + ' ' + res.statusText);
				        const items = await res.json();
				        if (!Array.isArray(items)) throw new Error('Unexpected API response');
				        for (const r of items) {
				          out.push({ tag: r.tag_name || r.name || '', url: r.html_url || '', published: r.published_at || r.created_at || '' });
				        }
				        const link = res.headers.get('link') || '';
				        if (link.indexOf('rel="next"') === -1) break;
				        page += 1;
				      }
				      return out;
				    }

				    function renderFiltered(){
				      const q = (search.value || '').trim().toLowerCase();
				      tbody.innerHTML = '';
				      const filtered = releases.filter(r => (r.tag || '').toLowerCase().indexOf(q) !== -1);
				      if (filtered.length === 0) {
				        const tr = document.createElement('tr');
				        const td = document.createElement('td'); td.colSpan = 3; td.textContent = 'No results';
				        tr.appendChild(td); tbody.appendChild(tr); return;
				      }
				      for (const r of filtered) {
				        const tr = document.createElement('tr');
				        const tdTag = document.createElement('td'); tdTag.textContent = r.tag; tr.appendChild(tdTag);
				        const tdDate = document.createElement('td'); tdDate.textContent = r.published ? new Date(r.published).toLocaleString() : 'unknown'; tr.appendChild(tdDate);
				        const tdLink = document.createElement('td'); const a = document.createElement('a'); a.href = r.url; a.target = '_blank'; a.rel = 'noopener noreferrer'; a.textContent = 'Release'; tdLink.appendChild(a); tr.appendChild(tdLink);
				        tbody.appendChild(tr);
				      }
				    }

				    load().catch(err => { status.innerHTML = '<span class="error">Error: ' + (err && err.message || err) + '</span>'; });
				  </script>
				</body>
				</html>
				      const t = s.trim();

				      let m = t.match(/^(.+?)[-_]v?\d/);
